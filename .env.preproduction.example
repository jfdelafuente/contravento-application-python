# ============================================================================
# ContraVento - Preproduction Environment Variables
# ============================================================================
# Configuration for preproduction/Jenkins testing environment
# Copy to .env.preproduction and customize
# Usage: docker-compose -f docker-compose.preproduction.dev.yml --env-file .env.preproduction up
# ============================================================================

# =============================================================================
# DOCKER IMAGES - From Docker Hub
# =============================================================================
# Backend image built by GitHub Actions or Jenkins
BACKEND_IMAGE=jfdelafuente/contravento-backend:develop

# Frontend image built by GitHub Actions or Jenkins
FRONTEND_IMAGE=jfdelafuente/contravento-frontend:develop

# =============================================================================
# SECURITY - JWT (Preproduction - Use strong keys!)
# =============================================================================
# Generate: python -c "import secrets; print(secrets.token_urlsafe(32))"
SECRET_KEY=jenkins_default_secret_key_for_testing_only_do_not_use_in_production

# =============================================================================
# DATABASE - PostgreSQL Configuration
# =============================================================================
POSTGRES_DB=contravento_jenkins
POSTGRES_USER=postgres
POSTGRES_PASSWORD=jenkins_test_password

# =============================================================================
# PORTS - Host Port Mappings
# =============================================================================
# PostgreSQL port (host machine)
POSTGRES_PORT=5432

# Backend API port (host machine)
BACKEND_PORT=8000

# Backend internal port (container)
BACKEND_INTERNAL_PORT=8000

# Full backend URL (used by frontend and testing scripts)
BACKEND_URL=http://localhost:8000

# Frontend port (host machine)
FRONTEND_PORT=5173

# pgAdmin port (host machine)
PGADMIN_PORT=5050

# =============================================================================
# CONTAINER NAMES (Optional - Customize if running multiple instances)
# =============================================================================
POSTGRES_CONTAINER=contravento-db-jenkins
BACKEND_CONTAINER=contravento-api-jenkins
FRONTEND_CONTAINER=contravento-frontend-jenkins
PGADMIN_CONTAINER=contravento-pgadmin-jenkins

# =============================================================================
# VOLUMES - Data Persistence
# =============================================================================
# Backend uploads storage directory (local path)
BACKEND_STORAGE_PATH=./backend/storage

# PostgreSQL data volume name (Docker managed)
POSTGRES_VOLUME=postgres_data_jenkins

# pgAdmin data volume name (Docker managed)
PGADMIN_VOLUME=pgadmin_data_jenkins

# =============================================================================
# NETWORK (Optional - Customize if avoiding conflicts)
# =============================================================================
NETWORK_NAME=jenkins-network

# =============================================================================
# PGADMIN - Database UI Configuration
# =============================================================================
PGADMIN_EMAIL=admin@example.com
PGADMIN_PASSWORD=jenkins

# =============================================================================
# NOTES
# =============================================================================
# 1. All variables have sensible defaults in docker-compose.preproduction.dev.yml
# 2. You only need to set variables you want to override
# 3. For production, always use strong SECRET_KEY and POSTGRES_PASSWORD
# 4. Port conflicts: Change *_PORT variables if ports are already in use
# 5. Multiple instances: Customize container names and network name to avoid conflicts
# =============================================================================
