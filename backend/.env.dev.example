# ============================================================================
# ContraVento - Local Development (SQLite - No Docker)
# ============================================================================
# Ultra-lightweight configuration for instant development with SQLite
# Copy to backend/.env and customize
# Usage: cd backend && poetry run uvicorn src.main:app --reload
# ============================================================================

# =============================================================================
# ENVIRONMENT
# =============================================================================
APP_ENV=development
APP_NAME=ContraVento-LocalDev
DEBUG=true

# =============================================================================
# DATABASE - SQLite (File-based - No Docker needed!)
# =============================================================================
# SQLite database file (created automatically in backend/ directory)
DATABASE_URL=sqlite+aiosqlite:///./contravento_dev.db

# Alternative: In-memory database (faster, but data lost on restart)
# DATABASE_URL=sqlite+aiosqlite:///:memory:

# =============================================================================
# SECURITY - JWT (Local - Weak keys OK for development)
# =============================================================================
# Generate: python -c "import secrets; print(secrets.token_urlsafe(32))"
SECRET_KEY=local-dev-secret-key-change-me-min-32-characters-long

ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=60
REFRESH_TOKEN_EXPIRE_DAYS=90
BCRYPT_ROUNDS=4

# =============================================================================
# EMAIL - LOG TO CONSOLE (No SMTP server needed)
# =============================================================================
# Emails will be logged to console instead of being sent
# To test emails visually, use Docker setup with MailHog
SMTP_HOST=
SMTP_PORT=1025
SMTP_USER=
SMTP_PASSWORD=
SMTP_FROM=dev@contravento.local
SMTP_TLS=false

# =============================================================================
# CORS - Local Dev Servers
# =============================================================================
CORS_ORIGINS=http://localhost:3000,http://localhost:5173,http://localhost:8080,http://127.0.0.1:3000

# =============================================================================
# FILE STORAGE (Local)
# =============================================================================
STORAGE_PATH=./storage
UPLOAD_MAX_SIZE_MB=10

# =============================================================================
# LOGGING (Local - Verbose)
# =============================================================================
LOG_LEVEL=DEBUG
LOG_FORMAT=text

# =============================================================================
# TRAVEL DIARY - Photo Settings
# =============================================================================
MAX_PHOTOS_PER_TRIP=20
MAX_TAGS_PER_TRIP=10
PHOTO_QUALITY_OPTIMIZED=85
PHOTO_MAX_WIDTH=1200

# =============================================================================
# NOTES - SQLite Local Development
# =============================================================================
# This setup is perfect for:
#   ✅ Instant startup (no Docker)
#   ✅ Zero configuration
#   ✅ Working on trips, stats, profiles
#   ✅ Quick prototyping
#   ✅ Learning the codebase
#
# Limitations:
#   ⚠️  SQLite != PostgreSQL (some features differ)
#   ⚠️  No email testing (use Docker for MailHog)
#   ⚠️  No Redis cache
#   ⚠️  Single connection (no concurrency testing)
#
# When to upgrade:
#   - Testing PostgreSQL-specific features → ./deploy.sh local-minimal
#   - Testing emails → ./deploy.sh local (with MailHog)
#   - Testing concurrency → Use PostgreSQL
#
# Database file location:
#   backend/contravento_dev.db (gitignored)
#
# Reset database:
#   rm backend/contravento_dev.db
#   poetry run alembic upgrade head
# =============================================================================
