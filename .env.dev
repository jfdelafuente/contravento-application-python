# ============================================================================
# ContraVento - Development/Integration Environment Variables
# ============================================================================
# Copy to .env.dev and customize for your integration server
# Usage: docker-compose -f docker-compose.yml -f docker-compose.dev.yml --env-file .env.dev up -d
# ============================================================================

# =============================================================================
# ENVIRONMENT
# =============================================================================
APP_ENV=development
APP_NAME=ContraVento-Dev
DEBUG=false

# =============================================================================
# BACKEND - Port Configuration
# =============================================================================
# Port exposed on the host machine (optional - for testing, usually behind Nginx)
BACKEND_PORT=8000

# Port inside the Docker container (usually same as BACKEND_PORT)
BACKEND_INTERNAL_PORT=8000

# Full backend URL (used by frontend and testing scripts)
BACKEND_URL=http://localhost:8000

# =============================================================================
# DATABASE - PostgreSQL (Development)
# =============================================================================
POSTGRES_DB=contravento_dev
POSTGRES_USER=contravento_dev
POSTGRES_PASSWORD=CHANGE_ME_STRONG_PASSWORD_DEV
POSTGRES_PORT=5432

# Backend connection (internal network)
DATABASE_URL=postgresql+asyncpg://contravento_dev:CHANGE_ME_STRONG_PASSWORD_DEV@postgres:5432/contravento_dev

# =============================================================================
# REDIS - Cache (Development)
# =============================================================================
REDIS_PASSWORD=CHANGE_ME_REDIS_PASSWORD_DEV
REDIS_PORT=6379
REDIS_URL=redis://:CHANGE_ME_REDIS_PASSWORD_DEV@redis:6379/0

# =============================================================================
# SECURITY - JWT (Development)
# =============================================================================
# IMPORTANT: Generate unique strong key for dev environment
# Generate: python -c "import secrets; print(secrets.token_urlsafe(64))"
SECRET_KEY=CHANGE_ME_GENERATE_STRONG_SECRET_KEY_MIN_64_CHARS_FOR_DEV

ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30
REFRESH_TOKEN_EXPIRE_DAYS=60
BCRYPT_ROUNDS=10

# =============================================================================
# EMAIL - Real SMTP for Integration Testing
# =============================================================================
# Option 1: Mailtrap (recommended for development)
SMTP_HOST=smtp.mailtrap.io
SMTP_PORT=587
SMTP_USER=your_mailtrap_username
SMTP_PASSWORD=your_mailtrap_password
SMTP_FROM=dev@contravento.com
SMTP_TLS=true

# Option 2: SendGrid
# SMTP_HOST=smtp.sendgrid.net
# SMTP_PORT=587
# SMTP_USER=apikey
# SMTP_PASSWORD=your_sendgrid_api_key
# SMTP_FROM=dev@contravento.com
# SMTP_TLS=true

# =============================================================================
# CORS - Development Domain
# =============================================================================
CORS_ORIGINS=https://dev.contravento.com,https://dev-app.contravento.com

# =============================================================================
# FILE STORAGE (Development)
# =============================================================================
STORAGE_PATH=/app/storage
UPLOAD_MAX_SIZE_MB=10

# =============================================================================
# LOGGING (Development)
# =============================================================================
LOG_LEVEL=INFO
LOG_FORMAT=json

# =============================================================================
# RATE LIMITING
# =============================================================================
LOGIN_MAX_ATTEMPTS=5
LOGIN_LOCKOUT_MINUTES=15
VERIFICATION_EMAIL_MAX_PER_HOUR=5

# =============================================================================
# PGADMIN (Development)
# =============================================================================
PGADMIN_EMAIL=admin@contravento.com
PGADMIN_PASSWORD=CHANGE_ME_PGADMIN_PASSWORD_DEV
